(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e8703080"],{"4de4":function(e,t,a){"use strict";var r=a("23e7"),c=a("b727").filter,o=a("1dde"),l=o("filter");r({target:"Array",proto:!0,forced:!l},{filter:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4");function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},5895:function(e,t,a){"use strict";a.r(t);a("b0c0");var r=a("7a23"),c=Object(r["withScopeId"])("data-v-16eaa300");Object(r["pushScopeId"])("data-v-16eaa300");var o=Object(r["createStaticVNode"])('<div class="container-fluid bg-light py-5" data-v-16eaa300><div class="col-md-6 m-auto text-center" data-v-16eaa300><div class="row row-pb-lg" data-v-16eaa300><div class="col-md-10 offset-md-1" data-v-16eaa300><div class="process-wrap" data-v-16eaa300><div class="process text-center" data-v-16eaa300><p data-v-16eaa300><span data-v-16eaa300>01</span></p><h3 data-v-16eaa300>購物車</h3></div><div class="process text-center active" data-v-16eaa300><p data-v-16eaa300><span data-v-16eaa300>02</span></p><h3 data-v-16eaa300>訂購資訊</h3></div><div class="process text-center" data-v-16eaa300><p data-v-16eaa300><span data-v-16eaa300>03</span></p><h3 data-v-16eaa300>訂單完成</h3></div></div></div></div></div></div>',1),l={class:"container"},n={class:"py-4 py-md-6"},d={class:"row gx-lg-5"},s={class:"col-lg-6 order-2 order-lg-1"},i=Object(r["createVNode"])("h3",{class:"fw-bold font-md border-bottom pb-3 mb-3"},"購買者資訊",-1),b={class:"mb-3 mb-lg-4"},u=Object(r["createVNode"])("label",{for:"name",class:"form-label fw-bold"},[Object(r["createTextVNode"])("姓名"),Object(r["createVNode"])("span",{style:{color:"red"}},"*")],-1),f={class:"mb-3 mb-lg-4"},m=Object(r["createVNode"])("label",{for:"email",class:"form-label fw-bold"},[Object(r["createTextVNode"])("Email"),Object(r["createVNode"])("span",{style:{color:"red"}},"*")],-1),p={class:"mb-3 mb-lg-4"},O=Object(r["createVNode"])("label",{for:"tel",class:"form-label fw-bold"},[Object(r["createTextVNode"])("收件人電話"),Object(r["createVNode"])("span",{style:{color:"red"}},"*")],-1),j={class:"mb-3 mb-lg-4"},v=Object(r["createVNode"])("label",{for:"address",class:"form-label fw-bold"},[Object(r["createTextVNode"])("收件人地址"),Object(r["createVNode"])("span",{style:{color:"red"}},"*")],-1),V={class:"mb-3 mb-lg-4"},g=Object(r["createVNode"])("label",{for:"message",class:"form-label fw-bold"},"留言",-1),N=Object(r["createVNode"])("div",{class:"text-end d-lg-none"},[Object(r["createVNode"])("button",{type:"submit",class:"btn btn-success px-4 text-white"}," 購買確認 ")],-1),w={class:"col-md-5 order-1 order-md-2 mb-4 mb-md-0"},y={class:"border p-2 py-4 p-lg-4"},h=Object(r["createVNode"])("h3",{class:"fw-bold font-md border-bottom pb-3 mb-3"},"購買項目",-1),x={class:"d-flex align-items-center"},k={class:"p-2"},S={class:"h4 font-md-normal fw-bold"},D={class:"\r\n                  text-end\r\n                  mb-2\r\n                  d-flex\r\n                  justify-content-between\r\n                  align-items-center\r\n                  mb-2\r\n                  fw-bold\r\n                "},$=Object(r["createTextVNode"])(" 小計： "),P={class:"\r\n                  text-end\r\n                  mb-2\r\n                  d-flex\r\n                  justify-content-between\r\n                  align-items-center\r\n                  fw-bold\r\n                "},T=Object(r["createTextVNode"])(" 折扣： "),B={class:"\r\n                  d-flex\r\n                  align-items-center\r\n                  justify-content-between\r\n                  border-top\r\n                  pt-3\r\n                "},C=Object(r["createVNode"])("span",{class:"font-md-md fw-bold"},"總金額：",-1),I={class:"font-md-md fw-bold"},U=Object(r["createVNode"])("div",{class:"py-4 text-end d-none d-lg-block"},[Object(r["createVNode"])("button",{type:"submit",class:"btn btn-success"},"購買確認")],-1);Object(r["popScopeId"])();var q=c((function(e,t,a,q,E,F){var _=Object(r["resolveComponent"])("Field"),L=Object(r["resolveComponent"])("ErrorMessage"),M=Object(r["resolveComponent"])("Form");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[o,Object(r["createVNode"])("div",l,[Object(r["createVNode"])("div",n,[Object(r["createVNode"])(M,{onSubmit:F.createOrder},{default:c((function(a){var c=a.errors;return[Object(r["createVNode"])("div",d,[Object(r["createVNode"])("div",s,[i,Object(r["createVNode"])("div",b,[u,Object(r["createVNode"])(_,{id:"name",name:"姓名",type:"text",class:["form-control fw-bold",{"is-invalid":c["姓名"]}],placeholder:"請輸入姓名",rules:"required",modelValue:E.form.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return E.form.user.name=e})},null,8,["class","modelValue"]),Object(r["createVNode"])(L,{name:"姓名",class:"invalid-feedback fw-bold"})]),Object(r["createVNode"])("div",f,[m,Object(r["createVNode"])(_,{id:"email",name:"email",type:"email",class:["form-control fw-bold",{"is-invalid":c["email"]}],placeholder:"請輸入 Email",rules:"email|required",modelValue:E.form.user.email,"onUpdate:modelValue":t[2]||(t[2]=function(e){return E.form.user.email=e})},null,8,["class","modelValue"]),Object(r["createVNode"])(L,{name:"email",class:"invalid-feedback fw-bold"})]),Object(r["createVNode"])("div",p,[O,Object(r["createVNode"])(_,{id:"tel",name:"電話",type:"tel",class:["form-control fw-bold",{"is-invalid":c["電話"]}],placeholder:"請輸入電話",rules:"required",modelValue:E.form.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return E.form.user.tel=e})},null,8,["class","modelValue"]),Object(r["createVNode"])(L,{name:"電話",class:"invalid-feedback fw-bold"})]),Object(r["createVNode"])("div",j,[v,Object(r["createVNode"])(_,{id:"address",name:"地址",type:"text",class:["form-control fw-bold",{"is-invalid":c["地址"]}],placeholder:"請輸入地址",rules:"required",modelValue:E.form.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return E.form.user.address=e})},null,8,["class","modelValue"]),Object(r["createVNode"])(L,{name:"地址",class:"invalid-feedback fw-bold"})]),Object(r["createVNode"])("div",V,[g,Object(r["withDirectives"])(Object(r["createVNode"])("textarea",{name:"",id:"message",class:"form-control fw-bold",cols:"30",rows:"10","onUpdate:modelValue":t[5]||(t[5]=function(e){return E.form.message=e})},null,512),[[r["vModelText"],E.form.message]])]),N]),Object(r["createVNode"])("div",w,[Object(r["createVNode"])("div",y,[h,(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.cart.carts,(function(t){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"d-flex align-items-center justify-content-between mb-2",key:t.id},[Object(r["createVNode"])("div",x,[Object(r["createVNode"])("img",{class:"order-img",src:t.product.imageUrl,alt:t.product.title},null,8,["src","alt"]),Object(r["createVNode"])("div",k,[Object(r["createVNode"])("h4",S,Object(r["toDisplayString"])(t.product.title)+" x "+Object(r["toDisplayString"])(t.qty),1)])]),Object(r["createVNode"])("p",null,"NT$ "+Object(r["toDisplayString"])(e.$filters.currency(t.product.price)),1)])})),128)),Object(r["createVNode"])("p",D,[$,Object(r["createVNode"])("span",null,"NT$ "+Object(r["toDisplayString"])(e.$filters.currency(e.cart.total)),1)]),Object(r["createVNode"])("p",P,[T,Object(r["createVNode"])("span",null,"NT$ "+Object(r["toDisplayString"])(e.$filters.currency(e.cart.total-e.cart.final_total)),1)]),Object(r["createVNode"])("div",B,[C,Object(r["createVNode"])("span",I," NT$ "+Object(r["toDisplayString"])(e.$filters.currency(e.cart.final_total)),1)])]),U])])]})),_:1},8,["onSubmit"])])])],64)})),E=a("5530"),F=(a("99af"),a("5502")),_={data:function(){return{products:[],product:{},status:{loadingItem:""},form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:Object(E["a"])({createOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("a22031227","/order"),a=this.form;this.$http.post(t,{data:a}).then((function(t){if(t.data.success){var a=t.data.orderId;e.$swal({title:"建立訂單成功",icon:"success",confirmButtonColor:"#59ab6e"}).then((function(t){t.isConfirmed&&e.$router.push("/orderForm/".concat(a))}))}else e.$swal({title:"購物車沒有商品",icon:"error",confirmButtonColor:"#59ab6e"})}))}},Object(F["b"])("cartModules",["getCart"])),computed:Object(E["a"])({isLoading:function(){return this.$store.state.isLoading}},Object(F["c"])("cartModules",["cart","cartLength"])),created:function(){this.getCart()}};a("5d18");_.render=q,_.__scopeId="data-v-16eaa300";t["default"]=_},"5d18":function(e,t,a){"use strict";a("b41e")},b41e:function(e,t,a){},b64b:function(e,t,a){var r=a("23e7"),c=a("7b0b"),o=a("df75"),l=a("d039"),n=l((function(){o(1)}));r({target:"Object",stat:!0,forced:n},{keys:function(e){return o(c(e))}})},dbb4:function(e,t,a){var r=a("23e7"),c=a("83ab"),o=a("56ef"),l=a("fc6a"),n=a("06cf"),d=a("8418");r({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(e){var t,a,r=l(e),c=n.f,s=o(r),i={},b=0;while(s.length>b)a=c(r,t=s[b++]),void 0!==a&&d(i,t,a);return i}})},e439:function(e,t,a){var r=a("23e7"),c=a("d039"),o=a("fc6a"),l=a("06cf").f,n=a("83ab"),d=c((function(){l(1)})),s=!n||d;r({target:"Object",stat:!0,forced:s,sham:!n},{getOwnPropertyDescriptor:function(e,t){return l(o(e),t)}})}}]);
//# sourceMappingURL=chunk-e8703080.7ea91d46.js.map