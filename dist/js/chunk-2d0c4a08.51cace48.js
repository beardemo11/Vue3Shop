(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c4a08"],{"3c46":function(t,e,c){"use strict";c.r(e);c("a4d3"),c("e01a"),c("caad"),c("2532");var i=c("7a23"),a={class:"bg-light"},o={class:"container pb-5"},s={class:"row"},r={class:"col-lg-5 mt-5"},d={class:"card mb-3"},n={class:"col-lg-7 mt-5"},l={class:"card"},u={class:"card-body"},b={class:"h2"},p={class:"h3 py-2"},h=Object(i["createVNode"])("h6",{class:""},"說明:",-1),j={class:""},O=Object(i["createVNode"])("input",{type:"hidden",name:"product-title",value:"Activewear"},null,-1),v={class:"row"},f={class:"col-auto"},N={class:"list-inline pb-3"},V={class:"list-inline-item text-right"},g=Object(i["createTextVNode"])(" 數量 "),m={class:"list-inline-item"},y={class:"list-inline-item"},w={id:"var-value"},Q={class:"list-inline-item"},C={class:"row pb-3"},F={class:"col d-grid"},$={class:"col"};function M(t,e,c,M,k,L){var P=Object(i["resolveComponent"])("FeaturedProduct");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[Object(i["createVNode"])("section",a,[Object(i["createVNode"])("div",o,[Object(i["createVNode"])("div",s,[Object(i["createVNode"])("div",r,[Object(i["createVNode"])("div",d,[Object(i["createVNode"])("img",{src:k.product.imageUrl,alt:k.product.title},null,8,["src","alt"])])]),Object(i["createVNode"])("div",n,[Object(i["createVNode"])("div",l,[Object(i["createVNode"])("div",u,[Object(i["createVNode"])("h1",b,Object(i["toDisplayString"])(k.product.title),1),Object(i["createVNode"])("p",p,"NT $"+Object(i["toDisplayString"])(k.product.price),1),h,Object(i["createVNode"])("p",j,Object(i["toDisplayString"])(k.product.description),1),O,Object(i["createVNode"])("div",v,[Object(i["createVNode"])("div",f,[Object(i["createVNode"])("ul",N,[Object(i["createVNode"])("li",V,[g,Object(i["withDirectives"])(Object(i["createVNode"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return k.cartQty=t}),type:"hidden",name:"product-quanity",id:"product-quanity"},null,512),[[i["vModelText"],k.cartQty]])]),Object(i["createVNode"])("li",m,[Object(i["createVNode"])("span",{class:"btn btn-success",id:"btn-minus",onClick:e[2]||(e[2]=Object(i["withModifiers"])((function(){return L.minusQty&&L.minusQty.apply(L,arguments)}),["prevent"]))},"-")]),Object(i["createVNode"])("li",y,[Object(i["createVNode"])("span",w,Object(i["toDisplayString"])(k.cartQty),1)]),Object(i["createVNode"])("li",Q,[Object(i["createVNode"])("span",{class:"btn btn-success",id:"btn-plus",onClick:e[3]||(e[3]=Object(i["withModifiers"])((function(){return L.addQty&&L.addQty.apply(L,arguments)}),["prevent"]))},"+")])])])]),Object(i["createVNode"])("div",C,[Object(i["createVNode"])("div",F,[Object(i["createVNode"])("button",{type:"submit",class:"btn btn-success btn-lg",name:"submit",value:"addtocard",onClick:e[4]||(e[4]=Object(i["withModifiers"])((function(t){return L.addCart(k.id,k.cartQty)}),["prevent"]))}," 加入購物車 ")]),Object(i["createVNode"])("div",$,[Object(i["createVNode"])("button",{type:"submit",class:"btn btn-outline-success btn-lg",name:"submit",value:"buy",onClick:e[5]||(e[5]=Object(i["withModifiers"])((function(t){return L.toggleFavorite(k.product)}),["prevent"]))},[Object(i["createVNode"])("i",{class:["far fa-heart",[this.favoriteList.includes(k.id)?"bi-heart-fill":"bi-heart"]]},null,2)])])])])])])])])]),Object(i["createVNode"])(P)],64)}var k=c("5530"),L=(c("99af"),c("159b"),c("5502")),P=c("f6f3"),B={components:{FeaturedProduct:P["a"]},data:function(){return{product:{},id:"",cartQty:1,favoriteList:[]}},methods:Object(k["a"])({getProduct:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("a22031227","/product/").concat(this.id);this.$store.dispatch("updateLoading",!0),this.$http.get(e).then((function(e){t.$store.dispatch("updateLoading",!1),e.data.success&&(t.product=e.data.product)}))},addCart:function(t,e){this.$store.dispatch("cartModules/addCart",{id:t,qty:e}),this.$swal({title:"加入購物車成功",icon:"success",confirmButtonColor:"#59ab6e"})},addQty:function(){this.cartQty++},minusQty:function(){this.cartQty<=1?(this.$swal({title:"數量需大於1",icon:"error",confirmButtonColor:"#59ab6e"}),this.cartQty=1):this.cartQty--},toggleFavorite:function(t){var e=this;this.$store.dispatch("favoriteModules/toggleFavorite",t).then((function(t){e.isFavorite=t,e.getFavorites(),e.$swal({title:"".concat(e.isFavorite?"加入":"移除","我的最愛"),icon:"success",confirmButtonColor:"#59ab6e"})}))},getFavorites:function(){var t=this;this.favoriteList=[],this.favorites.forEach((function(e){t.favoriteList.push(e.id)}))},changeRoute:function(t){this.$router.push(t)}},Object(L["b"])("productsModules",["getProducts"])),computed:Object(k["a"])(Object(k["a"])({},Object(L["c"])("productsModules",["products"])),Object(L["c"])("favoriteModules",["favorites","favoritesLength"])),created:function(){this.id=this.$route.params.productId,this.getProduct(),this.getProducts(),this.getFavorites()}};B.render=M;e["default"]=B}}]);
//# sourceMappingURL=chunk-2d0c4a08.51cace48.js.map