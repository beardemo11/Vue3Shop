{"version":3,"sources":["webpack:///./src/views/Front/Product.vue","webpack:///./src/views/Front/Product.vue?7687"],"names":["class","type","name","value","id","src","product","imageUrl","alt","title","price","description","cartQty","minusQty","addQty","addCart","toggleFavorite","components","FeaturedProduct","data","favoriteList","methods","getProduct","url","this","$store","dispatch","$http","get","then","res","success","qty","$swal","icon","response","isFavorite","getFavorites","favorites","forEach","item","push","changeRoute","router","$router","computed","created","$route","params","productId","getProducts","render"],"mappings":"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","file":"js/chunk-2d0c4a08.c1f35516.js","sourcesContent":["<template>\r\n  <!-- Open Content -->\r\n  <section class=\"bg-light\">\r\n    <div class=\"container pb-5\">\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-5 mt-5\">\r\n          <div class=\"card mb-3\">\r\n            <img :src=\"product.imageUrl\" :alt=\"product.title\" />\r\n          </div>\r\n        </div>\r\n        <!-- col end -->\r\n        <div class=\"col-lg-7 mt-5\">\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">\r\n              <h1 class=\"h2 fw-bold\">{{ product.title }}</h1>\r\n              <p class=\"h3 py-2 fw-bold\">NT ${{ product.price }}</p>\r\n              <h6 class=\"fw-bold\">說明:</h6>\r\n              <p class=\"fw-bold\">\r\n                {{ product.description }}\r\n              </p>\r\n              <input type=\"hidden\" name=\"product-title\" value=\"Activewear\" />\r\n              <div class=\"row\">\r\n                <div class=\"col-auto\">\r\n                  <ul class=\"list-inline pb-3\">\r\n                    <li class=\"list-inline-item text-right fw-bold\">\r\n                      數量\r\n                      <input\r\n                        v-model=\"cartQty\"\r\n                        type=\"hidden\"\r\n                        name=\"product-quanity\"\r\n                        id=\"product-quanity\"\r\n                      />\r\n                    </li>\r\n                    <li class=\"list-inline-item\">\r\n                      <span\r\n                        class=\"btn btn-success\"\r\n                        id=\"btn-minus\"\r\n                        @click.prevent=\"minusQty\"\r\n                        >-</span\r\n                      >\r\n                    </li>\r\n                    <li class=\"list-inline-item\">\r\n                      <span class=\"badge bg-secondary\" id=\"var-value\">{{\r\n                        cartQty\r\n                      }}</span>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">\r\n                      <span\r\n                        class=\"btn btn-success\"\r\n                        id=\"btn-plus\"\r\n                        @click.prevent=\"addQty\"\r\n                        >+</span\r\n                      >\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <div class=\"row pb-3\">\r\n                <div class=\"col d-grid\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    class=\"btn btn-success btn-lg fw-bold\"\r\n                    name=\"submit\"\r\n                    value=\"addtocard\"\r\n                    @click.prevent=\"addCart(id, cartQty)\"\r\n                  >\r\n                    加入購物車\r\n                  </button>\r\n                </div>\r\n                <div class=\"col d-grid\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    class=\"btn btn-success btn-lg fw-bold\"\r\n                    name=\"submit\"\r\n                    value=\"buy\"\r\n                    @click.prevent=\"toggleFavorite(product)\"\r\n                  >\r\n                    <i\r\n                      class=\"far fa-heart\"\r\n                      :class=\"[\r\n                        this.favoriteList.includes(id)\r\n                          ? 'bi-heart-fill'\r\n                          : 'bi-heart'\r\n                      ]\"\r\n                    ></i>\r\n\r\n                    加入我的最愛\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n  <!-- Close Content -->\r\n  <FeaturedProduct />\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex';\r\nimport FeaturedProduct from '@/components/FeaturedProduct.vue';\r\n\r\nexport default {\r\n  components: { FeaturedProduct },\r\n  data () {\r\n    return {\r\n      product: {},\r\n      id: '',\r\n      cartQty: 1,\r\n      favoriteList: []\r\n    };\r\n  },\r\n  methods: {\r\n    getProduct () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;\r\n      this.$store.dispatch('updateLoading', true);\r\n      this.$http.get(url).then((res) => {\r\n        this.$store.dispatch('updateLoading', false);\r\n        if (res.data.success) {\r\n          this.product = res.data.product;\r\n        }\r\n      });\r\n    },\r\n    addCart (id, qty) {\r\n      this.$store.dispatch('cartModules/addCart', { id, qty });\r\n      this.$swal({\r\n        title: '加入購物車成功',\r\n        icon: 'success'\r\n      });\r\n    },\r\n    addQty () {\r\n      this.cartQty++;\r\n    },\r\n    minusQty () {\r\n      if (this.cartQty <= 1) {\r\n        this.$swal({ title: '數量需大於1', icon: 'error' });\r\n        this.cartQty = 1;\r\n      } else {\r\n        this.cartQty--;\r\n      }\r\n    },\r\n    toggleFavorite (product) {\r\n      this.$store\r\n        .dispatch('favoriteModules/toggleFavorite', product)\r\n        .then((response) => {\r\n          this.isFavorite = response;\r\n          this.getFavorites();\r\n          this.$swal({\r\n            title: `${this.isFavorite ? '加入' : '移除'}我的最愛`,\r\n            icon: 'success'\r\n          });\r\n        });\r\n    },\r\n    getFavorites () {\r\n      this.favoriteList = [];\r\n      this.favorites.forEach((item) => {\r\n        this.favoriteList.push(item.id);\r\n      });\r\n    },\r\n\r\n    changeRoute (router) {\r\n      this.$router.push(router);\r\n    },\r\n\r\n    ...mapActions('productsModules', ['getProducts'])\r\n  },\r\n  computed: {\r\n    ...mapGetters('productsModules', ['products']),\r\n    ...mapGetters('favoriteModules', ['favorites', 'favoritesLength'])\r\n  },\r\n  created () {\r\n    this.id = this.$route.params.productId;\r\n    this.getProduct();\r\n    this.getProducts();\r\n    this.getFavorites();\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./Product.vue?vue&type=template&id=5cce975c\"\nimport script from \"./Product.vue?vue&type=script&lang=js\"\nexport * from \"./Product.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}