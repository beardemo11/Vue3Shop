(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2dab2c65"],{"4de4":function(t,e,c){"use strict";var o=c("23e7"),r=c("b727").filter,a=c("1dde"),n=a("filter");o({target:"Array",proto:!0,forced:!n},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,c){"use strict";c.d(e,"a",(function(){return a}));c("b64b"),c("a4d3"),c("4de4"),c("e439"),c("159b"),c("dbb4");function o(t,e,c){return e in t?Object.defineProperty(t,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[e]=c,t}function r(t,e){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),c.push.apply(c,o)}return c}function a(t){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?arguments[e]:{};e%2?r(Object(c),!0).forEach((function(e){o(t,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):r(Object(c)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))}))}return t}},b64b:function(t,e,c){var o=c("23e7"),r=c("7b0b"),a=c("df75"),n=c("d039"),i=n((function(){a(1)}));o({target:"Object",stat:!0,forced:i},{keys:function(t){return a(r(t))}})},dbb4:function(t,e,c){var o=c("23e7"),r=c("83ab"),a=c("56ef"),n=c("fc6a"),i=c("06cf"),s=c("8418");o({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,c,o=n(t),r=i.f,l=a(o),d={},b=0;while(l.length>b)c=r(o,e=l[b++]),void 0!==c&&s(d,e,c);return d}})},e439:function(t,e,c){var o=c("23e7"),r=c("d039"),a=c("fc6a"),n=c("06cf").f,i=c("83ab"),s=r((function(){n(1)})),l=!i||s;o({target:"Object",stat:!0,forced:l,sham:!i},{getOwnPropertyDescriptor:function(t,e){return n(a(t),e)}})},ed28:function(t,e,c){"use strict";c.r(e);var o=c("7a23"),r=Object(o["createStaticVNode"])('<div class="container-fluid bg-light py-5"><div class="col-md-6 m-auto text-center"><div class="row row-pb-lg"><div class="col-md-10 offset-md-1"><div class="process-wrap"><div class="process text-center active"><p><span>01</span></p><h3>購物車</h3></div><div class="process text-center"><p><span>02</span></p><h3>訂購資訊</h3></div><div class="process text-center"><p><span>03</span></p><h3>訂單完成</h3></div></div></div></div></div></div>',1),a={class:"container"},n={class:"row mt-4"},i={class:"col-md-12"},s={class:"text-end"},l={class:"table align-middle text-center"},d=Object(o["createVNode"])("thead",null,[Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("th",{width:"30%"},"圖示"),Object(o["createVNode"])("th",{width:"20%"},"產品名稱"),Object(o["createVNode"])("th",{width:"20%"},"數量"),Object(o["createVNode"])("th",{width:"20%"},"價格"),Object(o["createVNode"])("th",{width:"10%"})])],-1),b={key:0},u=Object(o["createVNode"])("td",{colspan:"5",class:"text-center py-6 fw-bold"},"無商品明細",-1),p={class:"fw-bold"},O={class:"fw-bold"},f={class:"px-3",id:"var-value"},j={class:"fw-bold","data-title":"單價"},h=Object(o["createVNode"])("i",{class:"bi bi-trash"},null,-1),v={colspan:"5"},g={class:"input-group ms-auto",style:{width:"350px"}},N=Object(o["createVNode"])("i",{class:"bi bi-gift text-white me-2"},null,-1),y=Object(o["createTextVNode"])("優惠碼 "),w={colspan:"5",class:"text-end fw-bold align-baseline"},V={class:"display-10 fw-bold"},m={class:"display-10 fw-bold"},k={key:0},C={key:1,class:"display-10 fw-bold"},$={key:0},x={colspan:"5",class:"text-end text-danger"},B=Object(o["createVNode"])("p",{class:"text-danger mb-2 fw-bold"},"已套用優惠卷",-1),D={class:"display-10 fw-bold"},M=Object(o["createVNode"])("td",{colspan:"3",align:"left"},[Object(o["createVNode"])("a",{href:"#/cart",class:"btn btn-success fw-bold"},[Object(o["createVNode"])("i",{class:"bi bi-chevron-left"}),Object(o["createTextVNode"])(" 繼續購物 ")])],-1),P={colspan:"2",align:"right"},S={key:0,href:"#/checkout",class:"btn btn-success fw-bold"},T=Object(o["createTextVNode"])(" 結帳"),_=Object(o["createVNode"])("i",{class:"bi bi-chevron-right"},null,-1);function L(t,e,c,L,Q,F){return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[r,Object(o["createVNode"])("div",a,[Object(o["createVNode"])("div",n,[Object(o["createVNode"])("div",i,[Object(o["createVNode"])("div",s,[t.cartLength>0?(Object(o["openBlock"])(),Object(o["createBlock"])("a",{key:0,onClick:e[1]||(e[1]=Object(o["withModifiers"])((function(){return F.deleteAllCart&&F.deleteAllCart.apply(F,arguments)}),["prevent"])),class:"btn btn-danger fw-bold"}," 刪除全部 ")):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("table",l,[d,Object(o["createVNode"])("tbody",null,[t.cartLength<1?(Object(o["openBlock"])(),Object(o["createBlock"])("tr",b,[u])):Object(o["createCommentVNode"])("",!0),(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(t.cart.carts,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("tr",{key:"".concat(e,"item")},[Object(o["createVNode"])("td",null,[Object(o["createVNode"])("div",{style:[{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(e.product.imageUrl,")")}]},null,4)]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("p",p,Object(o["toDisplayString"])(e.product.title),1)]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("div",O,[Object(o["createVNode"])("span",{class:"btn btn-success",id:"btn-minus",onClick:Object(o["withModifiers"])((function(t){return F.minusCartQty(e)}),["prevent"])},"-",8,["onClick"]),Object(o["createVNode"])("span",f,Object(o["toDisplayString"])(e.qty),1),Object(o["createVNode"])("span",{class:"btn btn-success",id:"btn-plus",onClick:Object(o["withModifiers"])((function(t){return F.addCartQty(e)}),["prevent"])},"+",8,["onClick"])])]),Object(o["createVNode"])("td",j," NT $ "+Object(o["toDisplayString"])(t.$filters.currency(e.product.price)),1),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-info",onClick:Object(o["withModifiers"])((function(t){return F.removeCartItem(e.id)}),["prevent"])},[h],8,["onClick"])])])})),128))]),Object(o["createVNode"])("tfoot",null,[Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("td",v,[Object(o["createVNode"])("div",g,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"text",class:"form-control fw-bold",placeholder:"購物金折扣碼【FlyGO】","aria-label":"coupons-btn","aria-describedby":"coupons-btn","onUpdate:modelValue":e[2]||(e[2]=function(t){return Q.coupon_code=t})},null,512),[[o["vModelText"],Q.coupon_code]]),Object(o["createVNode"])("button",{type:"button",class:"btn btn-success text-white fw-bold",onClick:e[3]||(e[3]=function(){return F.addCoupon&&F.addCoupon.apply(F,arguments)}),disabled:t.cartLength<1},[N,y],8,["disabled"])])])]),Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("td",w,[Object(o["createVNode"])("p",V," 小計 : NT $"+Object(o["toDisplayString"])(t.$filters.currency(t.cart.total)),1),Object(o["createVNode"])("p",m," 折扣 : NT $"+Object(o["toDisplayString"])(t.$filters.currency(t.cart.total-t.cart.final_total)),1),t.cart.final_total!==t.cart.total?(Object(o["openBlock"])(),Object(o["createBlock"])("del",k,"總金額 : NT $"+Object(o["toDisplayString"])(t.$filters.currency(t.cart.total)),1)):(Object(o["openBlock"])(),Object(o["createBlock"])("p",C," 總金額 : NT $"+Object(o["toDisplayString"])(t.$filters.currency(t.cart.total)),1))])]),t.cart.final_total!==t.cart.total?(Object(o["openBlock"])(),Object(o["createBlock"])("tr",$,[Object(o["createVNode"])("td",x,[B,Object(o["createVNode"])("p",D," 折扣後總金額 : NT $"+Object(o["toDisplayString"])(t.$filters.currency(t.cart.final_total)),1)])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("tr",null,[M,Object(o["createVNode"])("td",P,[t.cartLength>0?(Object(o["openBlock"])(),Object(o["createBlock"])("a",S,[T,_])):Object(o["createCommentVNode"])("",!0)])])])])])])])],64)}var Q=c("5530"),F=(c("99af"),c("5502")),A={data:function(){return{coupon_code:""}},methods:Object(Q["a"])(Object(Q["a"])({addCartQty:function(t){this.$store.dispatch("cartModules/addCartQty",t)},minusCartQty:function(t){this.$store.dispatch("cartModules/minusCartQty",t)},removeCartItem:function(t){this.$store.dispatch("cartModules/removeCartItem",t),this.$swal({title:"刪除成功!",icon:"success"})},deleteAllCart:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("a22031227","/carts");this.$swal({title:"確定刪除全部購物車?",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"是的, 確定刪除!",icon:"warning"}).then((function(c){c.isConfirmed&&(t.$swal.fire("Deleted!","已經刪除購物車","success"),t.$http.delete(e).then((function(e){t.getCart()})))}))},addCoupon:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("a22031227","/coupon"),c={code:this.coupon_code};""!==this.coupon_code?this.$http.post(e,{data:c}).then((function(e){e.data.success?(t.getCart(),t.coupon_code="",t.$swal({title:"已套用優惠卷",icon:"success"})):t.$swal({title:"找不到優惠卷",icon:"error"})})):this.$swal({title:"請輸入優惠碼!",icon:"error"})}},Object(F["b"])("cartModules",["getCart"])),Object(F["b"])("favoriteModules",["getFavorite"])),computed:Object(Q["a"])(Object(Q["a"])({isLoading:function(){return this.$store.state.isLoading}},Object(F["c"])("cartModules",["cart","cartLength"])),Object(F["c"])("favoriteModules",["favorites","favoritesLength"])),created:function(){this.getCart(),this.$store.dispatch("favoriteModules/getFavorite")}};A.render=L;e["default"]=A}}]);
//# sourceMappingURL=chunk-2dab2c65.98142e2d.js.map