{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?f819","webpack:///./src/views/Admin/Products.vue","webpack:///./src/components/ProductModal.vue","webpack:///./src/components/ProductModal.vue?6218","webpack:///./src/views/Admin/Products.vue?83b5"],"names":["aria-label","class","aria-hidden","paginationData","has_pre","type","changePage","total_pages","page","current_page","key","disabled","has_next","emits","props","methods","toPage","this","$emit","render","width","openModal","products","item","id","category","title","$filters","currency","origin_price","price","is_enabled","openDelModal","pagination","getProducts","ref","product","tempProduct","updateProduct","delProduct","tabindex","aria-labelledby","role","data-bs-dismiss","for","placeholder","uploadFile","alt","src","imageUrl","unit","description","content","true-value","false-value","Object","default","watch","data","modal","showModal","show","hideModal","hide","$refs","fileInput","files","formData","FormData","append","api","$http","post","then","response","success","console","dir","mounted","isNew","components","ProductModal","DelModal","Pagination","inject","$store","dispatch","get","res","productComponent","productModal","parseInt","httpMethod","$httpMsgState","delComponent","delModal","delete","created"],"mappings":"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","file":"js/chunk-7e838096.8492ef98.js","sourcesContent":["<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <li class=\"page-item\" :class=\"{ disabled: !paginationData.has_pre }\">\r\n        <button type=\"button\" class=\"page-link\" @click=\"changePage('pre')\">\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </button>\r\n      </li>\r\n      <li\r\n        class=\"page-item\"\r\n        v-for=\"page in paginationData.total_pages\"\r\n        :key=\"page\"\r\n        :class=\"{ active: page === paginationData.current_page }\"\r\n      >\r\n        <button\r\n          type=\"button\"\r\n          class=\"page-link\"\r\n          @click=\"changePage(page)\"\r\n          :disabled=\"page === paginationData.current_page\"\r\n        >\r\n          {{ page }}\r\n        </button>\r\n      </li>\r\n      <li class=\"page-item\" :class=\"{ disabled: !paginationData.has_next }\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"page-link\"\r\n          aria-label=\"Next\"\r\n          @click=\"changePage('next')\"\r\n        >\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </button>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  emits: ['getData'],\r\n  props: ['paginationData'],\r\n  methods: {\r\n    changePage (page) {\r\n      let toPage = page;\r\n      if (page === 'next') {\r\n        toPage = this.paginationData.current_page + 1;\r\n      } else if (page === 'pre') {\r\n        toPage = this.paginationData.current_page - 1;\r\n      }\r\n      this.$emit('getData', toPage);\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=07cf8fd8\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <div class=\"text-end\">\r\n    <button class=\"btn btn-primary\" type=\"button\" @click=\"openModal(true)\">\r\n      增加一個產品\r\n    </button>\r\n  </div>\r\n  <table class=\"table mt-4\">\r\n    <thead>\r\n      <tr>\r\n        <th width=\"120\">分類</th>\r\n        <th>產品名稱</th>\r\n        <th width=\"120\">原價</th>\r\n        <th width=\"120\">售價</th>\r\n        <th width=\"100\">是否啟用</th>\r\n        <th width=\"200\">編輯</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-for=\"item in products\" :key=\"item.id\">\r\n        <td>{{ item.category }}</td>\r\n        <td>{{ item.title }}</td>\r\n        <td class=\"text-right\">{{ $filters.currency(item.origin_price) }}</td>\r\n        <td class=\"text-right\">{{ $filters.currency(item.price) }}</td>\r\n        <td>\r\n          <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\r\n          <span class=\"text-muted\" v-else>未啟用</span>\r\n        </td>\r\n        <td>\r\n          <div class=\"btn-group\">\r\n            <button\r\n              class=\"btn btn-outline-primary btn-sm\"\r\n              @click=\"openModal(false, item)\"\r\n            >\r\n              編輯\r\n            </button>\r\n            <button\r\n              class=\"btn btn-outline-danger btn-sm\"\r\n              @click=\"openDelModal(item)\"\r\n            >\r\n              刪除\r\n            </button>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  <Pagination :paginationData=\"pagination\" @getData=\"getProducts\" />\r\n  <ProductModal\r\n    ref=\"productModal\"\r\n    :product=\"tempProduct\"\r\n    @update-product=\"updateProduct\"\r\n  ></ProductModal>\r\n  <DelModal ref=\"delModal\" :item=\"tempProduct\" @del-item=\"delProduct\" />\r\n</template>\r\n\r\n<script>\r\nimport ProductModal from '@/components/ProductModal.vue';\r\nimport DelModal from '@/components/DelModal.vue';\r\nimport Pagination from '@/components/Pagination.vue';\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      pagination: {},\r\n      tempProduct: {},\r\n      isNew: false\r\n    };\r\n  },\r\n  components: {\r\n    ProductModal,\r\n    DelModal,\r\n    Pagination\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    getProducts (page = 1) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\r\n      this.$store.dispatch('updateLoading', true);\r\n      this.$http.get(api).then((res) => {\r\n        if (res.data.success) {\r\n          this.products = res.data.products;\r\n          this.pagination = res.data.pagination;\r\n        }\r\n        this.$store.dispatch('updateLoading', false);\r\n      });\r\n    },\r\n    openModal (isNew, item) {\r\n      if (isNew) {\r\n        this.tempProduct = {};\r\n      } else {\r\n        this.tempProduct = { ...item };\r\n      }\r\n      this.isNew = isNew;\r\n      const productComponent = this.$refs.productModal;\r\n      productComponent.showModal();\r\n    },\r\n    updateProduct (item) {\r\n      this.tempProduct = item;\r\n      this.tempProduct.origin_price = parseInt(this.tempProduct.origin_price);\r\n      this.tempProduct.price = parseInt(this.tempProduct.price);\r\n\r\n      // 新增\r\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;\r\n      let httpMethod = 'post';\r\n      // 編輯\r\n      if (!this.isNew) {\r\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\r\n        httpMethod = 'put';\r\n      }\r\n      const productComponent = this.$refs.productModal;\r\n      this.$http[httpMethod](api, { data: this.tempProduct }).then(\r\n        (response) => {\r\n          productComponent.hideModal();\r\n          if (response.data.success) {\r\n            this.getProducts();\r\n            this.$httpMsgState(response, '更新產品');\r\n          } else {\r\n            this.$httpMsgState(response, '更新產品');\r\n          }\r\n        }\r\n      );\r\n    },\r\n    openDelModal (item) {\r\n      this.tempProduct = item;\r\n      const delComponent = this.$refs.delModal;\r\n      delComponent.showModal();\r\n    },\r\n    delProduct () {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;\r\n      this.$store.dispatch('updateLoading', true);\r\n      this.$http.delete(api).then((response) => {\r\n        const delComponent = this.$refs.delModal;\r\n        delComponent.hideModal();\r\n        this.getProducts();\r\n        this.$store.dispatch('updateLoading', false);\r\n        this.$httpMsgState(response, '刪除產品');\r\n      });\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","<template>\r\n  <!-- Modal -->\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"exampleModal\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\"\r\n    ref=\"modal\"\r\n  >\r\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-dark text-white\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n            <span>新增產品</span>\r\n          </h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-4\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"image\"\r\n                  placeholder=\"請輸入圖片連結\"\r\n                />\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"customFile\" class=\"form-label\"\r\n                  >或 上傳圖片\r\n                  <i class=\"fas fa-spinner fa-spin\"></i>\r\n                </label>\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"customFile\"\r\n                  class=\"form-control\"\r\n                  ref=\"fileInput\"\r\n                  @change=\"uploadFile\"\r\n                />\r\n              </div>\r\n              <img class=\"img-fluid\" alt=\"\" :src=\"tempProduct.imageUrl\" />\r\n              <div class=\"mt-5\">\r\n                <div class=\"mb-3 input-group\">\r\n                  <input\r\n                    type=\"url\"\r\n                    class=\"form-control form-control\"\r\n                    placeholder=\"請輸入連結\"\r\n                  />\r\n                  <button type=\"button\" class=\"btn btn-outline-danger\">\r\n                    移除\r\n                  </button>\r\n                </div>\r\n                <div>\r\n                  <button class=\"btn btn-outline-primary btn-sm d-block w-100\">\r\n                    新增圖片\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-sm-8\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"title\" class=\"form-label\">標題</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"title\"\r\n                  placeholder=\"請輸入標題\"\r\n                  v-model=\"tempProduct.title\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"row gx-2\">\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"category\" class=\"form-label\">分類</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    id=\"category\"\r\n                    placeholder=\"請輸入分類\"\r\n                    v-model=\"tempProduct.category\"\r\n                  />\r\n                </div>\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"price\" class=\"form-label\">單位</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    id=\"unit\"\r\n                    placeholder=\"請輸入單位\"\r\n                    v-model=\"tempProduct.unit\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"row gx-2\">\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"origin_price\" class=\"form-label\">原價</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    class=\"form-control\"\r\n                    id=\"origin_price\"\r\n                    placeholder=\"請輸入原價\"\r\n                    v-model=\"tempProduct.origin_price\"\r\n                  />\r\n                </div>\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"price\" class=\"form-label\">售價</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    class=\"form-control\"\r\n                    id=\"price\"\r\n                    placeholder=\"請輸入售價\"\r\n                    v-model=\"tempProduct.price\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <hr />\r\n\r\n              <div class=\"mb-3\">\r\n                <label for=\"description\" class=\"form-label\">產品描述</label>\r\n                <textarea\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"description\"\r\n                  placeholder=\"請輸入產品描述\"\r\n                  v-model=\"tempProduct.description\"\r\n                ></textarea>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"content\" class=\"form-label\">說明內容</label>\r\n                <textarea\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  id=\"content\"\r\n                  placeholder=\"請輸入產品說明內容\"\r\n                  v-model=\"tempProduct.content\"\r\n                ></textarea>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <div class=\"form-check\">\r\n                  <input\r\n                    class=\"form-check-input\"\r\n                    type=\"checkbox\"\r\n                    :true-value=\"1\"\r\n                    :false-value=\"0\"\r\n                    id=\"is_enabled\"\r\n                    v-model=\"tempProduct.is_enabled\"\r\n                  />\r\n                  <label class=\"form-check-label\" for=\"is_enabled\">\r\n                    是否啟用\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-primary\"\r\n            @click=\"$emit('update-product', tempProduct)\"\r\n          >\r\n            確認\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal';\r\n\r\nexport default {\r\n  props: {\r\n    product: {\r\n      type: Object,\r\n      default () {\r\n        return {};\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    product () {\r\n      this.tempProduct = this.product;\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return { modal: {}, tempProduct: {} };\r\n  },\r\n  methods: {\r\n    showModal () {\r\n      this.modal.show();\r\n    },\r\n    hideModal () {\r\n      this.modal.hide();\r\n    },\r\n    uploadFile () {\r\n      const uploadFile = this.$refs.fileInput.files[0];\r\n      const formData = new FormData();\r\n      formData.append('file-to-upload', uploadFile);\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\r\n      this.$http.post(api, formData).then((response) => {\r\n        if (response.data.success) {\r\n          this.tempProduct.imageUrl = response.data.imageUrl;\r\n        }\r\n      });\r\n\r\n      console.dir(uploadFile);\r\n    }\r\n  },\r\n  mounted () {\r\n    this.modal = new Modal(this.$refs.modal);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import { render } from \"./ProductModal.vue?vue&type=template&id=5da0b480\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Products.vue?vue&type=template&id=77743ae2\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}