{"version":3,"sources":["webpack:///./src/views/Front/Product.vue","webpack:///./src/views/Front/Product.vue?7687"],"names":["class","type","name","value","id","src","product","imageUrl","alt","title","price","description","cartSelect","minusQty","addQty","addCart","toggleFavorite","components","FeaturedProduct","data","methods","getProduct","url","this","$store","dispatch","$http","get","then","res","success","qty","$swal","icon","storageKey","favoriteProducts","JSON","parse","localStorage","getItem","idx","findIndex","item","setItem","stringify","isFavorite","splice","setFavoriteProduct","getFavorite","changeRoute","router","$router","push","computed","created","$route","params","productId","getProducts","render"],"mappings":"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","file":"js/chunk-2d0c4a08.b97f4134.js","sourcesContent":["<template>\r\n  <!-- Open Content -->\r\n  <section class=\"bg-light\">\r\n    <div class=\"container pb-5\">\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-5 mt-5\">\r\n          <div class=\"card mb-3\">\r\n            <img :src=\"product.imageUrl\" :alt=\"product.title\" />\r\n          </div>\r\n        </div>\r\n        <!-- col end -->\r\n        <div class=\"col-lg-7 mt-5\">\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">\r\n              <h1 class=\"h2 fw-bold\">{{ product.title }}</h1>\r\n              <p class=\"h3 py-2 fw-bold\">NT ${{ product.price }}</p>\r\n              <!-- <p class=\"py-2\">\r\n                <i class=\"fa fa-star text-warning\"></i>\r\n                <i class=\"fa fa-star text-warning\"></i>\r\n                <i class=\"fa fa-star text-warning\"></i>\r\n                <i class=\"fa fa-star text-warning\"></i>\r\n                <i class=\"fa fa-star text-secondary\"></i>\r\n                <span class=\"list-inline-item text-dark\"\r\n                  >Rating 4.8 | 36 Comments</span\r\n                >\r\n              </p> -->\r\n              <!-- <ul class=\"list-inline\">\r\n                <li class=\"list-inline-item\">\r\n                  <h6>Brand:</h6>\r\n                </li>\r\n                <li class=\"list-inline-item\">\r\n                  <p class=\"text-muted\"><strong>Easy Wear</strong></p>\r\n                </li>\r\n              </ul> -->\r\n\r\n              <h6 class=\"fw-bold\">說明:</h6>\r\n              <p class=\"fw-bold\">\r\n                {{ product.description }}\r\n              </p>\r\n              <!-- <ul class=\"list-inline\">\r\n                <li class=\"list-inline-item\">\r\n                  <h6>Avaliable Color :</h6>\r\n                </li>\r\n                <li class=\"list-inline-item\">\r\n                  <p class=\"text-muted\"><strong>White / Black</strong></p>\r\n                </li>\r\n              </ul> -->\r\n\r\n              <input type=\"hidden\" name=\"product-title\" value=\"Activewear\" />\r\n              <div class=\"row\">\r\n                <div class=\"col-auto\">\r\n                  <ul class=\"list-inline pb-3\">\r\n                    <li class=\"list-inline-item text-right fw-bold\">\r\n                      數量\r\n                      <input\r\n                        v-model=\"cartSelect\"\r\n                        type=\"hidden\"\r\n                        name=\"product-quanity\"\r\n                        id=\"product-quanity\"\r\n                      />\r\n                    </li>\r\n                    <li class=\"list-inline-item\">\r\n                      <span\r\n                        class=\"btn btn-success\"\r\n                        id=\"btn-minus\"\r\n                        @click.prevent=\"minusQty\"\r\n                        >-</span\r\n                      >\r\n                    </li>\r\n                    <li class=\"list-inline-item\">\r\n                      <span class=\"badge bg-secondary\" id=\"var-value\">{{\r\n                        cartSelect\r\n                      }}</span>\r\n                    </li>\r\n                    <li class=\"list-inline-item\">\r\n                      <span\r\n                        class=\"btn btn-success\"\r\n                        id=\"btn-plus\"\r\n                        @click.prevent=\"addQty\"\r\n                        >+</span\r\n                      >\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <div class=\"row pb-3\">\r\n                <div class=\"col d-grid\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    class=\"btn btn-success btn-lg fw-bold\"\r\n                    name=\"submit\"\r\n                    value=\"addtocard\"\r\n                    @click.prevent=\"addCart(id, cartSelect)\"\r\n                  >\r\n                    加入購物車\r\n                  </button>\r\n                </div>\r\n                <div class=\"col d-grid\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    class=\"btn btn-success btn-lg fw-bold\"\r\n                    name=\"submit\"\r\n                    value=\"buy\"\r\n                    @click.prevent=\"toggleFavorite(product)\"\r\n                  >\r\n                    加入我的最愛\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </section>\r\n  <!-- Close Content -->\r\n  <FeaturedProduct />\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex';\r\nimport FeaturedProduct from '@/components/FeaturedProduct.vue';\r\n\r\nexport default {\r\n  components: { FeaturedProduct },\r\n  data () {\r\n    return {\r\n      product: {},\r\n      id: '',\r\n      cartSelect: 1\r\n    };\r\n  },\r\n  methods: {\r\n    getProduct () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;\r\n      this.$store.dispatch('updateLoading', true);\r\n      this.$http.get(url).then((res) => {\r\n        this.$store.dispatch('updateLoading', false);\r\n        if (res.data.success) {\r\n          this.product = res.data.product;\r\n        }\r\n      });\r\n    },\r\n    addCart (id, qty) {\r\n      this.$store.dispatch('cartModules/addCart', { id, qty });\r\n      this.$swal({\r\n        title: '加入購物車成功',\r\n        icon: 'success'\r\n      });\r\n    },\r\n    addQty () {\r\n      this.cartSelect++;\r\n    },\r\n    minusQty () {\r\n      if (this.cartSelect <= 1) {\r\n        this.$swal({ title: '數量需大於1', icon: 'error' });\r\n        this.cartSelect = 1;\r\n      } else {\r\n        this.cartSelect--;\r\n      }\r\n    },\r\n    toggleFavorite (product) {\r\n      const storageKey = 'favoriteData';\r\n      const favoriteProducts =\r\n        JSON.parse(localStorage.getItem('favoriteData')) || [];\r\n      if (favoriteProducts) {\r\n        const idx = favoriteProducts.findIndex(\r\n          (item) => item.id === product.id\r\n        );\r\n        if (idx === -1) {\r\n          localStorage.setItem(\r\n            storageKey,\r\n            JSON.stringify([...favoriteProducts, product])\r\n          );\r\n          this.isFavorite = true;\r\n        } else {\r\n          favoriteProducts.splice(idx, 1);\r\n          localStorage.setItem(storageKey, JSON.stringify(favoriteProducts));\r\n          this.isFavorite = false;\r\n        }\r\n      } else {\r\n        this.setFavoriteProduct(storageKey, JSON.stringify([product]));\r\n        this.isFavorite = true;\r\n      }\r\n      this.getFavorite();\r\n      this.$swal({\r\n        title: `${this.isFavorite ? '加入' : '移除'}我的最愛`,\r\n        icon: 'success'\r\n      });\r\n    },\r\n\r\n    changeRoute (router) {\r\n      this.$router.push(router);\r\n    },\r\n\r\n    ...mapActions('productsModules', ['getProducts']),\r\n    ...mapActions('favoriteModules', ['getFavorite'])\r\n  },\r\n  computed: {\r\n    ...mapGetters('productsModules', ['products'])\r\n  },\r\n  created () {\r\n    this.id = this.$route.params.productId;\r\n    this.getProduct();\r\n    this.getProducts();\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./Product.vue?vue&type=template&id=68a58792\"\nimport script from \"./Product.vue?vue&type=script&lang=js\"\nexport * from \"./Product.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}